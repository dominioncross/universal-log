function showSuccess(n){Messenger().post({message:n,type:"success",showCloseButton:!0})}function showErrorMessage(n){Messenger().post({message:n,type:"error",showCloseButton:!1})}function tryAgain(){var n=0;Messenger().run({errorMessage:"Error destroying alien planet",successMessage:"Alien planet destroyed!",action:function(t){return++n<3?t.error({status:500,readyState:0,responseText:0}):t.success()}})}(function(){var n,t=window.Messenger;n=window.Messenger=function(){return n._call.apply(this,arguments)};window.Messenger.noConflict=function(){return window.Messenger=t,n}})();window.Messenger._=function(){var h;if(window._)return window._;var t=Array.prototype,f=Object.prototype,c=Function.prototype,i=(t.push,t.slice),l=(t.concat,f.toString);f.hasOwnProperty;var e=t.forEach,o=(t.map,t.reduce,t.reduceRight,t.filter),a=(t.every,t.some,t.indexOf,t.lastIndexOf,Array.isArray,Object.keys),u=c.bind,n={},s={},r=n.each=n.forEach=function(t,i,r){var u,o,f;if(null!=t)if(e&&t.forEach===e)t.forEach(i,r);else if(t.length===+t.length){for(u=0,o=t.length;o>u;u++)if(i.call(r,t[u],u,t)===s)return}else for(f in t)if(n.has(t,f)&&i.call(r,t[f],f,t)===s)return};return n.result=function(t,i){if(null==t)return null;var r=t[i];return n.isFunction(r)?r.call(t):r},n.once=function(n){var t,i=!1;return function(){return i?t:(i=!0,t=n.apply(this,arguments),n=null,t)}},h=0,n.uniqueId=function(n){var t=++h+"";return n?n+t:t},n.filter=n.select=function(n,t,i){var u=[];return null==n?u:o&&n.filter===o?n.filter(t,i):(r(n,function(n,r,f){t.call(i,n,r,f)&&(u[u.length]=n)}),u)},r(["Arguments","Function","String","Number","Date","RegExp"],function(t){n["is"+t]=function(n){return l.call(n)=="[object "+t+"]"}}),n.defaults=function(n){return r(i.call(arguments,1),function(t){if(t)for(var i in t)null==n[i]&&(n[i]=t[i])}),n},n.extend=function(n){return r(i.call(arguments,1),function(t){if(t)for(var i in t)n[i]=t[i]}),n},n.keys=a||function(t){var i,r;if(t!==Object(t))throw new TypeError("Invalid object");i=[];for(r in t)n.has(t,r)&&(i[i.length]=r);return i},n.bind=function(n,t){if(n.bind===u&&u)return u.apply(n,i.call(arguments,1));var r=i.call(arguments,2);return function(){return n.apply(t,r.concat(i.call(arguments)))}},n.isObject=function(n){return n===Object(n)},n}();window.Messenger.Events=function(){if(window.Backbone&&Backbone.Events)return Backbone.Events;var n=function(){var i=/\s+/,t=function(n,t,r,u){var f;if(!r)return!0;if("object"==typeof r)for(f in r)n[t].apply(n,[f,r[f]].concat(u));else{if(!i.test(r))return!0;for(var o=r.split(i),e=0,s=o.length;s>e;e++)n[t].apply(n,[o[e]].concat(u))}},r=function(n,t){var i,r=-1,u=n.length;switch(t.length){case 0:for(;u>++r;)(i=n[r]).callback.call(i.ctx);return;case 1:for(;u>++r;)(i=n[r]).callback.call(i.ctx,t[0]);return;case 2:for(;u>++r;)(i=n[r]).callback.call(i.ctx,t[0],t[1]);return;case 3:for(;u>++r;)(i=n[r]).callback.call(i.ctx,t[0],t[1],t[2]);return;default:for(;u>++r;)(i=n[r]).callback.apply(i.ctx,t)}},n={on:function(n,i,r){if(!t(this,"on",n,[i,r])||!i)return this;this._events||(this._events={});var u=this._events[n]||(this._events[n]=[]);return u.push({callback:i,context:r,ctx:r||this}),this},once:function(n,i,r){if(!t(this,"once",n,[i,r])||!i)return this;var f=this,u=_.once(function(){f.off(n,u);i.apply(this,arguments)});return u._callback=i,this.on(n,u,r),this},off:function(n,i,r){var o,u,s,h,f,c,e,l;if(!this._events||!t(this,"off",n,[i,r]))return this;if(!n&&!i&&!r)return this._events={},this;for(h=n?[n]:_.keys(this._events),f=0,c=h.length;c>f;f++)if(n=h[f],o=this._events[n]){if(s=[],i||r)for(e=0,l=o.length;l>e;e++)u=o[e],(i&&i!==u.callback&&i!==u.callback._callback||r&&r!==u.context)&&s.push(u);this._events[n]=s}return this},trigger:function(n){var i,u,f;return this._events?(i=Array.prototype.slice.call(arguments,1),!t(this,"trigger",n,i))?this:(u=this._events[n],f=this._events.all,u&&r(u,i),f&&r(f,arguments),this):this},listenTo:function(n,t,i){var r=this._listeners||(this._listeners={}),u=n._listenerId||(n._listenerId=_.uniqueId("l"));return r[u]=n,n.on(t,"object"==typeof t?this:i,this),this},stopListening:function(n,t,i){var r=this._listeners,u;if(r){if(n)n.off(t,"object"==typeof t?this:i,this),t||i||delete r[n._listenerId];else{"object"==typeof t&&(i=this);for(u in r)r[u].off(t,i,this);this._listeners={}}return this}}};return n.bind=n.on,n.unbind=n.off,n};return n()}(),function(){var n,e,o,h,s,t,r,u,c,l,a,v={}.hasOwnProperty,f=function(n,t){function r(){this.constructor=n}for(var i in t)v.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n},i=[].slice,y=[].indexOf||function(n){for(var t=0,i=this.length;i>t;t++)if(t in this&&this[t]===n)return t;return-1};n=jQuery;t=null!=(c=window._)?c:window.Messenger._;h=null!=(l="undefined"!=typeof Backbone&&null!==Backbone?Backbone.Events:void 0)?l:window.Messenger.Events;o=function(){function i(i){n.extend(this,h);t.isObject(i)&&(i.el&&this.setElement(i.el),this.model=i.model);this.initialize.apply(this,arguments)}return i.prototype.setElement=function(t){return this.$el=n(t),this.el=this.$el[0]},i.prototype.delegateEvents=function(n){var s,u,r,e,i,o,f;if(n||(n=t.result(this,"events"))){this.undelegateEvents();s=/^(\S+)\s*(.*)$/;f=[];for(r in n){if(i=n[r],t.isFunction(i)||(i=this[n[r]]),!i)throw Error('Method "'+n[r]+'" does not exist');e=r.match(s);u=e[1];o=e[2];i=t.bind(i,this);u+=".delegateEvents"+this.cid;""===o?f.push(this.jqon(u,i)):f.push(this.jqon(u,o,i))}return f}},i.prototype.jqon=function(n,t,i){var r;return null!=this.$el.on?(r=this.$el).on.apply(r,arguments):(null==i&&(i=t,t=void 0),null!=t?this.$el.delegate(t,n,i):this.$el.bind(n,i))},i.prototype.jqoff=function(n){var t;return null!=this.$el.off?(t=this.$el).off.apply(t,arguments):(this.$el.undelegate(),this.$el.unbind(n))},i.prototype.undelegateEvents=function(){return this.jqoff(".delegateEvents"+this.cid)},i.prototype.remove=function(){return this.undelegateEvents(),this.$el.remove()},i}();r=function(i){function r(){return r.__super__.constructor.apply(this,arguments)}return f(r,i),r.prototype.defaults={hideAfter:10,scroll:!0},r.prototype.initialize=function(t){return null==t&&(t={}),this.shown=!1,this.rendered=!1,this.messenger=t.messenger,this.options=n.extend({},this.options,t,this.defaults)},r.prototype.show=function(){var n;return this.rendered||this.render(),this.$message.removeClass("messenger-hidden"),n=this.shown,this.shown=!0,n?void 0:this.trigger("show")},r.prototype.hide=function(){var n;if(this.rendered)return this.$message.addClass("messenger-hidden"),n=this.shown,this.shown=!1,n?this.trigger("hide"):void 0},r.prototype.cancel=function(){return this.hide()},r.prototype.update=function(i){var r,u=this;return t.isString(i)&&(i={message:i}),n.extend(this.options,i),this.lastUpdate=new Date,this.rendered=!1,this.events=null!=(r=this.options.events)?r:{},this.render(),this.actionsToEvents(),this.delegateEvents(),this.checkClickable(),this.options.hideAfter?(this.$message.addClass("messenger-will-hide-after"),null!=this._hideTimeout&&clearTimeout(this._hideTimeout),this._hideTimeout=setTimeout(function(){return u.hide()},1e3*this.options.hideAfter)):this.$message.removeClass("messenger-will-hide-after"),this.options.hideOnNavigate?(this.$message.addClass("messenger-will-hide-on-navigate"),null!=("undefined"!=typeof Backbone&&null!==Backbone?Backbone.history:void 0)&&Backbone.history.on("route",function(){return u.hide()})):this.$message.removeClass("messenger-will-hide-on-navigate"),this.trigger("update",this)},r.prototype.scrollTo=function(){if(this.options.scroll)return n.scrollTo(this.$el,{duration:400,offset:{left:0,top:-20}})},r.prototype.timeSinceUpdate=function(){return this.lastUpdate?new Date-this.lastUpdate:null},r.prototype.actionsToEvents=function(){var u,n,t,i,r=this;t=this.options.actions;i=[];for(n in t)u=t[n],i.push(this.events['click [data-action="'+n+'"] a']=function(t){return function(i){return i.preventDefault(),i.stopPropagation(),r.trigger("action:"+n,t,i),t.action.call(r,i,r)}}(u));return i},r.prototype.checkClickable=function(){var r,t,i,n;i=this.events;n=[];for(t in i)r=i[t],"click"===t?n.push(this.$message.addClass("messenger-clickable")):n.push(void 0);return n},r.prototype.undelegateEvents=function(){var n;return r.__super__.undelegateEvents.apply(this,arguments),null!=(n=this.$message)?n.removeClass("messenger-clickable"):void 0},r.prototype.parseActions=function(){var f,r,t,i,u,e;r=[];u=this.options.actions;for(i in u)f=u[i],t=n.extend({},f),t.name=i,null==(e=t.label)&&(t.label=i),r.push(t);return r},r.prototype.template=function(t){var i,f,e,o,r,c,s,u,l,h,a=this;for(r=n("<div class='messenger-message message alert "+t.type+" message-"+t.type+" alert-"+t.type+"'>"),t.showCloseButton&&(e=n('<button type="button" class="messenger-close" data-dismiss="alert">&times;<\/button>'),e.click(function(){return a.cancel(),!0}),r.append(e)),c=n('<div class="messenger-message-inner">'+t.message+"<\/div>"),r.append(c),t.actions.length&&(f=n('<div class="messenger-actions">')),h=t.actions,u=0,l=h.length;l>u;u++)s=h[u],i=n("<span>"),i.attr("data-action",""+s.name),o=n("<a>"),o.html(s.label),i.append(n('<span class="messenger-phrase">')),i.append(o),f.append(i);return r.append(f),r},r.prototype.render=function(){var t;if(!this.rendered)return this._hasSlot||(this.setElement(this.messenger._reserveMessageSlot(this)),this._hasSlot=!0),t=n.extend({},this.options,{actions:this.parseActions()}),this.$message=n(this.template(t)),this.$el.html(this.$message),this.shown=!0,this.rendered=!0,this.trigger("render")},r}(o);s=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return f(t,n),t.prototype.initialize=function(){return t.__super__.initialize.apply(this,arguments),this._timers={}},t.prototype.cancel=function(){return this.clearTimers(),this.hide(),null!=this._actionInstance&&null!=this._actionInstance.abort?this._actionInstance.abort():void 0},t.prototype.clearTimers=function(){var t,i,n,r;n=this._timers;for(t in n)i=n[t],clearTimeout(i);return this._timers={},null!=(r=this.$message)?r.removeClass("messenger-retry-soon messenger-retry-later"):void 0},t.prototype.render=function(){var i,r,u,n;t.__super__.render.apply(this,arguments);this.clearTimers();u=this.options.actions;n=[];for(r in u)i=u[r],i.auto?n.push(this.startCountdown(r,i)):n.push(void 0);return n},t.prototype.renderPhrase=function(n,t){return n.phrase.replace("TIME",this.formatTime(t))},t.prototype.formatTime=function(n){var t;return t=function(n,t){return n=Math.floor(n),1!==n&&(t+="s"),"in "+n+" "+t},0===Math.floor(n)?"now...":60>n?t(n,"second"):(n/=60,60>n?t(n,"minute"):(n/=60,t(n,"hour")))},t.prototype.startCountdown=function(n,t){var f,i,u,e,r=this;if(null==this._timers[n])return f=this.$message.find("[data-action='"+n+"'] .messenger-phrase"),i=null!=(e=t.delay)?e:3,10>=i?(this.$message.removeClass("messenger-retry-later"),this.$message.addClass("messenger-retry-soon")):(this.$message.removeClass("messenger-retry-soon"),this.$message.addClass("messenger-retry-later")),u=function(){var e;return f.text(r.renderPhrase(t,i)),i>0?(e=Math.min(i,1),i-=e,r._timers[n]=setTimeout(u,1e3*e)):(r.$message.removeClass("messenger-retry-soon messenger-retry-later"),delete r._timers[n],t.action())},u()},t}(r);u=function(i){function u(){return u.__super__.constructor.apply(this,arguments)}return f(u,i),u.prototype.tagName="ul",u.prototype.className="messenger",u.prototype.messageDefaults={type:"info"},u.prototype.initialize=function(t){return this.options=null!=t?t:{},this.history=[],this.messageDefaults=n.extend({},this.messageDefaults,this.options.messageDefaults)},u.prototype.render=function(){return this.updateMessageSlotClasses()},u.prototype.findById=function(n){return t.filter(this.history,function(t){return t.msg.options.id===n})},u.prototype._reserveMessageSlot=function(t){var i,r,u=this;for(i=n("<li>"),i.addClass("messenger-message-slot"),this.$el.prepend(i),this.history.push({msg:t,$slot:i}),this._enforceIdConstraint(t),t.on("update",function(){return u._enforceIdConstraint(t)});this.options.maxMessages&&this.history.length>this.options.maxMessages;)r=this.history.shift(),r.msg.remove(),r.$slot.remove();return i},u.prototype._enforceIdConstraint=function(n){var u,i,f,t,r;if(null!=n.options.id)for(r=this.history,i=0,f=r.length;f>i;i++)if(u=r[i],t=u.msg,null!=t.options.id&&t.options.id===n.options.id&&n!==t){if(n.options.singleton)return n.hide(),void 0;t.hide()}},u.prototype.newMessage=function(n){var t,i,u,f,e=this;return null==n&&(n={}),n.messenger=this,r=null!=(i=null!=(u=Messenger.themes[null!=(f=n.theme)?f:this.options.theme])?u.Message:void 0)?i:s,t=new r(n),t.on("show",function(){if(n.scrollTo&&"fixed"!==e.$el.css("position"))return t.scrollTo()}),t.on("hide show render",this.updateMessageSlotClasses,this),t},u.prototype.updateMessageSlotClasses=function(){var r,t,n,u,i,e,f;for(u=!0,t=null,r=!1,f=this.history,i=0,e=f.length;e>i;i++)n=f[i],n.$slot.removeClass("messenger-first messenger-last messenger-shown"),n.msg.shown&&n.msg.rendered&&(n.$slot.addClass("messenger-shown"),r=!0,t=n,u&&(u=!1,n.$slot.addClass("messenger-first")));return null!=t&&t.$slot.addClass("messenger-last"),this.$el[""+(r?"remove":"add")+"Class"]("messenger-empty")},u.prototype.hideAll=function(){var r,n,u,t,i;for(t=this.history,i=[],n=0,u=t.length;u>n;n++)r=t[n],i.push(r.msg.hide());return i},u.prototype.post=function(i){var r;return t.isString(i)&&(i={message:i}),i=n.extend(!0,{},this.messageDefaults,i),r=this.newMessage(i),r.update(i),r},u}(o);e=function(r){function u(){return u.__super__.constructor.apply(this,arguments)}return f(u,r),u.prototype.doDefaults={progressMessage:null,successMessage:null,errorMessage:"Error connecting to the server.",showSuccessWithoutError:!0,retry:{auto:!0,allow:!0},action:n.ajax},u.prototype.hookBackboneAjax=function(r){var u,f=this;if(null==r&&(r={}),null==window.Backbone)throw"Expected Backbone to be defined";return r=t.defaults(r,{id:"BACKBONE_ACTION",errorMessage:!1,successMessage:"Request completed successfully.",showSuccessWithoutError:!1}),u=function(n){var i;return i=t.extend({},r,n.messenger),f["do"](i,n)},null!=Backbone.ajax?(Backbone.ajax._withoutMessenger&&(Backbone.ajax=Backbone.ajax._withoutMessenger),(null==r.action||r.action===this.doDefaults.action)&&(r.action=Backbone.ajax),u._withoutMessenger=Backbone.ajax,Backbone.ajax=u):Backbone.sync=t.wrap(Backbone.sync,function(){var r,f,t;return t=arguments[0],r=arguments.length>=2?i.call(arguments,1):[],f=n.ajax,n.ajax=u,t.call.apply(t,[this].concat(i.call(r))),n.ajax=f})},u.prototype._getHandlerResponse=function(n){return n===!1?!1:n===!0||null==n?!0:n},u.prototype._parseEvents=function(n){var f,u,e,t,i,r,o;null==n&&(n={});i={};for(t in n)e=n[t],u=t.indexOf(" "),r=t.substring(0,u),f=t.substring(u+1),null==(o=i[r])&&(i[r]={}),i[r][f]=e;return i},u.prototype._normalizeResponse=function(){var u,n,f,e,o,r,s;for(f=arguments.length>=1?i.call(arguments,0):[],e=null,o=null,u=null,r=0,s=f.length;s>r;r++)n=f[r],"success"===n||"timeout"===n||"abort"===n?e=n:null!=(null!=n?n.readyState:void 0)&&null!=(null!=n?n.responseText:void 0)?o=n:t.isObject(n)&&(u=n);return[e,u,o]},u.prototype.run=function(){var h,l,c,a,e,r,u,p,f,s,v,o=this;if(r=arguments[0],f=arguments[1],h=arguments.length>=3?i.call(arguments,2):[],null==f&&(f={}),r=n.extend(!0,{},this.messageDefaults,this.doDefaults,null!=r?r:{}),l=this._parseEvents(r.events),c=function(n,i){var u;return u=r[n+"Message"],t.isFunction(u)?u.call(o,n,i):u},u=null!=(v=r.messageInstance)?v:this.newMessage(r),null!=r.id&&(u.options.id=r.id),null!=r.progressMessage&&u.update(n.extend({},r,{message:c("progress",null),type:"info"})),e={},t.each(["error","success"],function(s){var a;return a=f[s],e[s]=function(){var ut,k,d,e,g,w,p,v,b,ft,nt,tt,it,rt,et;return w=arguments.length>=1?i.call(arguments,0):[],b=o._normalizeResponse.apply(o,w),g=b[0],ut=b[1],v=b[2],"success"===s&&null==u.errorCount&&r.showSuccessWithoutError===!1&&(r.successMessage=null),"error"===s&&(null==(ft=r.errorCount)&&(r.errorCount=0),r.errorCount+=1),d=r.returnsPromise?w[0]:"function"==typeof a?a.apply(null,w):void 0,p=o._getHandlerResponse(d),t.isString(p)&&(p={message:p}),"error"!==s||0!==(null!=v?v.status:void 0)&&"abort"!==g?"error"===s&&null!=r.ignoredErrorCodes&&(nt=null!=v?v.status:void 0,y.call(r.ignoredErrorCodes,nt)>=0)?(u.hide(),void 0):(k={message:c(s,v),type:s,events:null!=(tt=l[s])?tt:{},hideOnNavigate:"success"===s},e=n.extend({},r,k,p),"number"==typeof(null!=(it=e.retry)?it.allow:void 0)&&e.retry.allow--,"error"===s&&(null!=v?v.status:void 0)>=500&&(null!=(rt=e.retry)?rt.allow:void 0)?(null==e.retry.delay&&(e.retry.delay=4>e.errorCount?10:300),e.hideAfter&&(null==(et=e._hideAfter)&&(e._hideAfter=e.hideAfter),e.hideAfter=e._hideAfter+e.retry.delay),e._retryActions=!0,e.actions={retry:{label:"retry now",phrase:"Retrying TIME",auto:e.retry.auto,delay:e.retry.delay,action:function(){return e.messageInstance=u,setTimeout(function(){return o["do"].apply(o,[e,f].concat(i.call(h)))},0)}},cancel:{action:function(){return u.cancel()}}}):e._retryActions&&(delete e.actions.retry,delete e.actions.cancel,delete r._retryActions),u.update(e),p&&e.message?(Messenger(),u.show()):u.hide()):(u.hide(),void 0)}}),!r.returnsPromise)for(s in e)a=e[s],p=f[s],f[s]=a;return u._actionInstance=r.action.apply(r,[f].concat(i.call(h))),r.returnsPromise&&u._actionInstance.then(e.success,e.error),u},u.prototype["do"]=u.prototype.run,u.prototype.ajax=function(){var r,t;return t=arguments[0],r=arguments.length>=2?i.call(arguments,1):[],t.action=n.ajax,this.run.apply(this,[t].concat(i.call(r)))},u.prototype.expectPromise=function(n,i){return i=t.extend({},i,{action:n,returnsPromise:!0}),this.run(i)},u.prototype.error=function(n){return null==n&&(n={}),"string"==typeof n&&(n={message:n}),n.type="error",this.post(n)},u.prototype.info=function(n){return null==n&&(n={}),"string"==typeof n&&(n={message:n}),n.type="info",this.post(n)},u.prototype.success=function(n){return null==n&&(n={}),"string"==typeof n&&(n={message:n}),n.type="success",this.post(n)},u}(u);n.fn.messenger=function(){var f,s,r,h,o,c,l,a;return r=arguments[0],s=arguments.length>=2?i.call(arguments,1):[],null==r&&(r={}),f=this,null!=r&&t.isString(r)?(a=f.data("messenger"))[r].apply(a,s):(o=r,null==f.data("messenger")&&(u=null!=(c=null!=(l=Messenger.themes[o.theme])?l.Messenger:void 0)?c:e,f.data("messenger",h=new u(n.extend({el:f},o))),h.render()),f.data("messenger"))};window.Messenger._call=function(t){var f,r,a,e,h,c,i,o,s,u,l;if(c={extraClasses:"messenger-fixed messenger-on-bottom messenger-on-right",theme:"future",maxMessages:9,parentLocations:["body"]},t=n.extend(c,n._messengerDefaults,Messenger.options,t),null!=t.theme&&(t.extraClasses+=" messenger-theme-"+t.theme),i=t.instance||Messenger.instance,null==t.instance){for(s=t.parentLocations,r=null,a=null,u=0,l=s.length;l>u;u++)if(o=s[u],r=n(o),r.length){e=o;break}i?n(i._location)!==n(e)&&(i.$el.detach(),r.prepend(i.$el)):(f=n("<ul>"),r.prepend(f),i=f.messenger(t),i._location=e,Messenger.instance=i)}return null!=i._addedClasses&&i.$el.removeClass(i._addedClasses),i.$el.addClass(h=""+i.className+" "+t.extraClasses),i._addedClasses=h,i};n.extend(Messenger,{Message:s,Messenger:e,themes:null!=(a=Messenger.themes)?a:{}});n.globalMessenger=window.Messenger=Messenger}.call(this),function(){var n,t,i,r={}.hasOwnProperty,u=function(n,t){function u(){this.constructor=n}for(var i in t)r.call(t,i)&&(n[i]=t[i]);return u.prototype=t.prototype,n.prototype=new u,n.__super__=t.prototype,n};n=jQuery;i='<div class="messenger-spinner">\n    <span class="messenger-spinner-side messenger-spinner-side-left">\n        <span class="messenger-spinner-fill"><\/span>\n    <\/span>\n    <span class="messenger-spinner-side messenger-spinner-side-right">\n        <span class="messenger-spinner-fill"><\/span>\n    <\/span>\n<\/div>';t=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return u(r,t),r.prototype.template=function(){var t;return t=r.__super__.template.apply(this,arguments),t.append(n(i)),t},r}(window.Messenger.Message);window.Messenger.themes.future={Message:t}}.call(this),function(){var n,t={}.hasOwnProperty,i=function(n,i){function u(){this.constructor=n}for(var r in i)t.call(i,r)&&(n[r]=i[r]);return u.prototype=i.prototype,n.prototype=new u,n.__super__=i.prototype,n};n=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,n),t.prototype.className="location-selector",t.prototype.events={"click .bit":"handleClick"},t.prototype.render=function(){return this.$el.html(""),this.draw()},t.prototype.draw=function(){return this._addBit("top left"),this._addBit("top right"),this._addBit("top"),this._addBit("bottom left"),this._addBit("bottom right"),this._addBit("bottom")},t.prototype._addBit=function(n){var t;return t=$("<div>"),t.addClass("bit "+n),t.attr("data-position",n),this.$el.append(t),t},t.prototype.handleClick=function(n){var t;return t=$(n.target),this.trigger("update",t.attr("data-position").split(" "))},t}(Backbone.View);$.fn.locationSelector=function(t){var i;return i=new n($.extend({},t,{el:this})),$(this).addClass(i.className),i.render(),i}}.call(this),function(){var n,t={}.hasOwnProperty,i=function(n,i){function u(){this.constructor=n}for(var r in i)t.call(i,r)&&(n[r]=i[r]);return u.prototype=i.prototype,n.prototype=new u,n.__super__=i.prototype,n};n=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,n),t.prototype.tagName="ul",t.prototype.className="theme-selector",t.prototype.events={"click li":"handleClick"},t.prototype.handleClick=function(n){var t;return t=$(n.target),this.trigger("update",t.attr("data-id"))},t}(Backbone.View);$.fn.themeSelector=function(t){var i;return i=new n($.extend({},t,{el:this})),$(this).addClass(i.className),i.render(),i}}.call(this);
$(function(){var t=["top","right"],n="flat",r=$(".controls output"),u=$(".location-selector"),f=$(".theme-selector"),i=function(){for(var i="messenger-fixed",u=0;u<t.length;u++)i+=" messenger-on-"+t[u];$.globalMessenger({extraClasses:i,theme:n});Messenger.options={extraClasses:i,theme:n};r.text("Messenger.options = {\n    extraClasses: '"+i+"',\n    theme: '"+n+"'\n}")};i();u.locationSelector().on("update",function(n){t=n;i()});f.themeSelector({themes:["flat","future","block","air","ice"]}).on("update",function(t){n=t;i()})})
